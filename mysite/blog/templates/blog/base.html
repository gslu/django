{% load blog_tags %}
{% load static %}
<!DOCTYPE HTML>
<html>
    <head>
        <link rel="icon" href='{% static "blog/img/icon-title.ico" %}' type="image/x-icon"/>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv=”X-UA-Compatible” content="IE=edge,chrome=1">
        <link href= '{% static "blog/css/base.css" %}' rel="stylesheet" type="text/css">
        <link href= '{% static "blog/css/forms.css" %}' rel="stylesheet" type="text/css">
        <script type="text/javascript" src='{% static "blog/js/jquery.js" %}'></script>
        <script type="text/javascript" src='{% static "blog/js/jquery.min.js" %}'></script>
        <script type="text/javascript" src='{% static "blog/js/jquery_form.js" %}'></script>
        <script type="text/javascript" src='{% static "blog/js/actions.js" %}'></script>

        {% block addhead %}{% endblock %}
        <script type="text/javascript">
            function httpHtml(){
                var v = document.getElementById("post-body").innerHTML;
                var reg = /(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g;
                v = v.replace(reg, "<a target='view_window' href='$1$2'>$1$2</a>").replace(/\n/g,"");
                document.getElementById("post-body").innerHTML = v;
            }
            function validate_email(field,alerttxt)
            {
                with (field)
                {
                    apos=value.indexOf("@")
                    dotpos=value.lastIndexOf(".")
                    if (apos<1||dotpos-apos<2)
                      {alert(alerttxt);return false}
                    else {return true;}
                    }
                }

            function validate_form(thisform)
            {
                with (thisform)
                {
                    if (validate_email(email,"Not a valid e-mail address!")==false)
                      {email.focus();return false;}
                }
            }

            window.onscroll = function(){
                var t = document.documentElement.scrollTop || document.body.scrollTop;
                var back_top = document.getElementById( "back-top" );
                if( t < 400 ) {
                    back_top.style.display = "none";
                } else {
                    back_top.style.display = "inline-block";
                }
            }

        </script>
        <title>{% block title %}{% endblock %}</title>
    </head>
    {% block bodyclass %}
    <body>
    {% endblock %}
            {% block nav %}
                {% include "blog/nav.html" %}
            {% endblock %}

            <div class="body">
                {% block header %}
                <div class="home-page">
                    {% include "blog/header.html" %}
                </div>
                {% endblock %}

                <div id="tail">
                    <div id="container">
                    {% block content %}
                    {% endblock %}


                    {% block sidebar %}
                    {% endblock %}
                    </div>
                </div>
            </div>

            {% block footer %}
                {% include "blog/footer.html" %}
            {% endblock %}

            {% block column-bar %}
                <div class="column-bar">
                    <a href="#top"><div id="back-top" title="回到顶部"><p>顶部</p></div></a>
                </div>
            {% endblock %}
    </body>

</html>
